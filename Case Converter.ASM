.MODEL SMALL
.STACK 100H
.DATA

NAM DB 50 DUP("$")
DUPNAM DB 50 DUP("$")

.CODE
MAIN PROC
MOV AX,@DATA
MOV DS,AX
CALL INPUT_NAME
CALL CASE



MOV AH,4CH
INT 21H

MAIN ENDP
CASE PROC
PUSH DX
PUSH SI
PUSH DI
PUSH BX
PUSH AX
    LEA SI,NAM
    LEA DI,DUPNAM     
    MOV BL,[SI]
ABOVE:
    XOR BL,20H
    MOV [DI],BL
    INC SI
    INC DI
    MOV BL,[SI]
    CMP BL,'$'
    JNZ ABOVE
    CALL NEWLINE
    LEA DX,DUPNAM
    MOV AH,09
    INT 21H
POP AX
POP BX
POP DI
POP SI
POP DX

RET
CASE ENDP

NEWLINE PROC
PUSH DX
PUSH AX

MOV DL,0AH
MOV AH,02
INT 21H
MOV DL,0DH
MOV AH,02
INT 21H

POP AX
POP DX
RET
NEWLINE ENDP

INPUT_NAME PROC
PUSH SI
PUSH AX
PUSH DX

    LEA SI,NAM
    MOV AH,01
INLOOP:
    INT 21H
    MOV [SI],AL
    INC SI
    CMP AL,'$'
    JNZ INLOOP
    CALL NEWLINE
    MOV AH,09
    LEA DX,NAM
    INT 21H

POP DX
POP AX
POP SI
RET
INPUT_NAME ENDP
END MAIN
